{
  "workflowApiVersion": "1.1",
  "metaData": {
    "icon": "images/icon.png",
    "category": "custom"
  },
  "type": "RESTDECISION",
  "lang": {
    "en-US": {
      "name": "CA-Flow Control Test",
      "description": "Custom Activity Flow Control Test"
    }
  },
  "arguments": {
    "execute": {
      "inArguments": [
        {
          "to": "{{Event.\"data-extension-name\".\"mobile\"}}"
        }
      ],
      "outArguments": [],
      "url": "https://${req.headers.host}/execute",
      "verb": "POST",
      "body": "",
      "format": "json",
      "useJwt": false,
      "concurrentRequests": 2,
      "timeout": 10000,
      "retryCount": 5,
      "retryDelay": 1000
    }
  },
  "configurationArguments": {
    "save": {
      "url": "https://${req.headers.host}/save"
    },
    "publish": {
      "url": "https://${req.headers.host}/publish"
    },
    "validate": {
      "url": "https://${req.headers.host}/validate"
    },
    "stop": {
      "url": "https://${req.headers.host}/stop"
    },
    "wizardSteps": [
      {
        "label": "Configure Message",
        "key": "step1"
      }
    ],
    "userInterfaces": {
      "configModal": {
        "height": 600,
        "width": 800,
        "fullscreen": false
      }
    },
    "outcomes": [
      {
        "arguments": {
          "branchResult": "message_stored"
        },
        "metaData": {
          "label": "Message Successfully Stored"
        }
      },
      {
        "arguments": {
          "branchResult": "generic_error"
        },
        "metaData": {
          "label": "Generic ERROR on Custom Activity"
        }
      }
    ],
    "schema": {
      "arguments": {
        "execute": {
          "inArguments": [
            {
              "from": {
                "dataType": "String",
                "isNullable": true,
                "direction": "in"
              }
            },
            {
              "to": {
                "dataType": "String",
                "isNullable": true,
                "direction": "in"
              }
            }
          ],
          "outArguments": []
        }
      }
    }
  }